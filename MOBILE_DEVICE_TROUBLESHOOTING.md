# 모바일 기기별 로그인 문제 해결 가이드

## 문제 상황
- 일부 모바일 기기에서는 로그인이 정상 작동
- 다른 모바일 기기에서는 로그인이 실패

## 공통 확인사항

### 1. 네트워크 환경 ⚠️ **ERR_CONNECTION_FAILED 에러 시 가장 먼저 확인!**
- [ ] 모든 기기가 **같은 Wi-Fi**에 연결되어 있는지 확인
- [ ] **개발 서버가 실행 중인지 확인** (`npm run dev`가 실행 중이어야 함)
- [ ] 네트워크 안정성 확인 (약한 신호면 안될 수 있음)
- [ ] PC에서 `http://192.168.45.3:3000` 접속 테스트
- [ ] **Windows 방화벽**에서 Node.js 허용 확인
- [ ] 라우터의 **AP 격리(AP Isolation)** 설정 해제

### 2. 브라우저
- [ ] **브라우저 종류** (Chrome, Safari, Firefox 등)
- [ ] **브라우저 버전** (최신인지 확인)
- [ ] 다른 브라우저로 테스트

### 3. 기기 설정
- [ ] VPN/프록시 사용 여부
- [ ] 방화벽 설정
- [ ] 기기 시간/날짜 설정 (정확해야 함)

### 4. 캐시 및 쿠키
- [ ] 브라우저 데이터 삭제
- [ ] 시크릿/프라이빗 모드에서 테스트

## 단계별 해결 방법

### 1단계: 시크릿 모드 테스트
가장 빠른 진단 방법:
- [ ] 시크릿/프라이빗 모드에서 `http://192.168.45.3:3000` 접속
- [ ] 로그인 테스트

**결과:**
- ✅ 시크릿 모드에서 작동 → 캐시/쿠키 문제
- ❌ 시크릿 모드에서도 실패 → 다른 원인

### 2단계: 브라우저 변경
- [ ] 기본 브라우저 외 다른 브라우저로 테스트
- 예: Chrome → Safari, Safari → Firefox 등

### 3단계: 네트워크 확인
- [ ] PC에서 모바일과 같은 네트워크로 접속 테스트
- [ ] 터미널에서 `- Network: http://192.168.X.X:3000` 확인

### 4단계: 설정 초기화
- [ ] 브라우저 앱 → 저장공간 → 모든 데이터 삭제
- [ ] 기기 재시작

### 5단계: 운영체제 확인
- [ ] iOS 버전 (최신 권장)
- [ ] Android 버전 (최신 권장)
- [ ] 기기 업데이트

## 성공한 기기와 실패한 기기 비교

### 성공한 기기 정보 기록
```
브라우저: ___________
OS: ___________
버전: ___________
```

### 실패한 기기 정보 기록
```
브라우저: ___________
OS: ___________
버전: ___________
에러 메시지: ___________
```

이 정보를 비교하면 공통 문제를 찾을 수 있습니다.

## 자주 있는 원인

1. **오래된 브라우저**: OAuth/CORS 지원 안됨
2. **VPN 사용**: Supabase 연결 차단
3. **방화벽 앱**: 네트워크 요청 차단
4. **시간 불일치**: 인증 토큰 검증 실패
5. **쿠키 비활성화**: 세션 유지 불가

## 추가 확인사항

### Supabase 설정
- [ ] Redirect URLs에 `http://192.168.45.3:3000/auth/callback` 추가됨
- [ ] 카카오 사이트 도메인에 `http://192.168.45.3:3000` 추가됨

### 코드 설정
- [ ] `next.config.ts`에 `allowedDevOrigins` 설정됨
- [ ] 서버 재시작됨

## 문제가 계속될 경우

터미널 로그를 확인하여 에러 메시지를 찾아주세요:
```bash
# 터미널에서 에러 확인
npm run dev
```

브라우저 콘솔도 확인:
1. 개발자 도구 열기 (F12)
2. Console 탭 확인
3. 에러 메시지 복사

